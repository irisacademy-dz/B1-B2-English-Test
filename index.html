<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Placement Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        #results {
            display: none;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        button {
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #0056b3;
        }
        .question {
            margin-bottom: 20px;
            padding: 15px;
            background: #f1f1f1;
            border-radius: 5px;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <!-- Your original HTML content here -->
    <h1>English Placement Test</h1>
    <p>This test will help determine your English proficiency level.</p>
    
    <form name="placementTest">
        <!-- Questions 1-6 -->
        <div class="question">
            <h3>1. Choose the correct option:</h3>
            <p>If I ______ you, I would take the job.</p>
            <label><input type="radio" name="q1" value="a"> a) was</label><br>
            <label><input type="radio" name="q1" value="b"> b) were</label><br>
            <label><input type="radio" name="q1" value="c"> c) am</label><br>
            <label><input type="radio" name="q1" value="d"> d) would be</label>
        </div>
        
        <!-- Continue with questions 2-11 in the same format -->
        <!-- Question 7 (checkboxes) -->
        <div class="question">
            <h3>7. Which of these words are countable nouns? (Select all that apply)</h3>
            <label><input type="checkbox" name="q7a"> a) information</label><br>
            <label><input type="checkbox" name="q7b"> b) advice</label><br>
            <label><input type="checkbox" name="q7c"> c) suggestion</label><br>
            <label><input type="checkbox" name="q7d"> d) furniture</label>
        </div>
        
        <!-- Questions 10-11 (text input) -->
        <div class="question">
            <h3>10. Complete the sentence:</h3>
            <p>She started working here in 2010. <br>
            She ________________ since 2010.</p>
            <input type="text" id="q10">
        </div>
        
        <!-- Essay question -->
        <div class="question">
            <h3>12. Write a short essay (100-150 words):</h3>
            <p>"The advantages and disadvantages of living in a big city"</p>
            <textarea id="essay" rows="6"></textarea>
        </div>
        
        <button type="button" onclick="calculateResults()">Submit Test</button>
    </form>
    
    <div id="results">
        <h2>Test Results</h2>
        <div><strong>Score:</strong> <span id="scoreDisplay"></span>/20</div>
        <div><strong>Level:</strong> <span id="levelText"></span></div>
        <div><strong>Description:</strong> <span id="descriptionText"></span></div>
        <div><strong>Feedback (English):</strong> <span id="englishComment"></span></div>
        <div><strong>Feedback (French):</strong> <span id="frenchComment"></span></div>
    </div>

    <script>
        // Correct answers
        const correctAnswers = {
            q1: "b",
            q2: "b",
            q3: "d",
            q4: "a",
            q5: "c",
            q6: "b",
            q7: ["c"],
            q8: "d",
            q9: "d"
        };

        // Helper functions
        function arraysEqual(a, b) {
            return a.length === b.length && a.every((val, index) => val === b[index]);
        }

        function getCambridgeDescription(level) {
            const descriptions = {
                "A2": "Can understand sentences and frequently used expressions.",
                "B1": "Can understand the main points of clear standard input.",
                "B2": "Can understand the main ideas of complex text."
            };
            return descriptions[level] || "";
        }

        // Calculate results
        function calculateResults() {
            let score = 0;
            const form = document.forms['placementTest'];
            
            // Check multiple choice questions (1-6, 8-9)
            for (let i = 1; i <= 6; i++) {
                const questionName = 'q' + i;
                const selectedOption = form.elements[questionName]?.value;
                if (selectedOption === correctAnswers[questionName]) {
                    score++;
                }
            }
            
            // Check questions 8-9
            if (form.elements['q8']?.value === correctAnswers.q8) score++;
            if (form.elements['q9']?.value === correctAnswers.q9) score++;
            
            // Check checkbox question (q7)
            const q7Answers = [];
            if (form.elements['q7a'].checked) q7Answers.push("a");
            if (form.elements['q7b'].checked) q7Answers.push("b");
            if (form.elements['q7c'].checked) q7Answers.push("c");
            if (form.elements['q7d'].checked) q7Answers.push("d");
            
            if (arraysEqual(q7Answers, correctAnswers.q7)) {
                score += 2;
            }
            
            // Check sentence transformations (q10-11)
            const q10 = document.getElementById('q10').value.trim().toLowerCase();
            const q11 = document.getElementById('q11').value.trim().toLowerCase();
            
            if (q10.includes("has been") && q10.includes("since")) score++;
            if (q11.includes("said to") && q11.includes("going to")) score++;
            
            // Essay (basic check)
            const essayText = document.getElementById('essay').value.trim();
            if (essayText.length > 100) score += 1;
            
            // Convert to Algerian 20-point scale
            const algerianScore = Math.round((score / 13) * 20);
            
            // Determine level
            let level, description, englishFeedback, frenchFeedback;
            
            if (score >= 11) {
                level = "B2";
                description = "Upper Intermediate (Strong)";
                englishFeedback = "Excellent! You demonstrate strong B2 level skills.";
                frenchFeedback = "Excellent! Vous démontrez des compétences solides de niveau B2.";
            } 
            else if (score >= 9) {
                level = "B2";
                description = "Upper Intermediate";
                englishFeedback = "Good! You demonstrate B2 level skills.";
                frenchFeedback = "Bien! Vous démontrez des compétences de niveau B2.";
            }
            else if (score >= 7) {
                level = "B1+";
                description = "Intermediate/Upper Intermediate";
                englishFeedback = "Developing skills. You have good B1 skills approaching B2.";
                frenchFeedback = "Compétences en développement. Vous avez de bonnes compétences de niveau B1 approchant le B2.";
            }
            else if (score >= 5) {
                level = "B1";
                description = "Intermediate";
                englishFeedback = "Basic intermediate level.";
                frenchFeedback = "Niveau intermédiaire de base.";
            }
            else if (score >= 3) {
                level = "A2/B1";
                description = "Elementary to Pre-Intermediate";
                englishFeedback = "Basic proficiency.";
                frenchFeedback = "Maîtrise de base.";
            }
            else {
                level = "A2";
                description = "Elementary";
                englishFeedback = "Foundational level.";
                frenchFeedback = "Niveau fondamental.";
            }
            
            // Display results
            document.getElementById('scoreDisplay').textContent = algerianScore;
            document.getElementById('levelText').textContent = `${level} (${description})`;
            document.getElementById('descriptionText').textContent = getCambridgeDescription(level);
            document.getElementById('englishComment').textContent = englishFeedback;
            document.getElementById('frenchComment').textContent = frenchFeedback;
            
            document.getElementById('results').style.display = 'block';
            window.scrollTo({
                top: document.body.scrollHeight,
                behavior: 'smooth'
            });
        }
    </script>
</body>
</html>
